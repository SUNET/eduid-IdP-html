{% extends "base.jinja2" %}

{% block nav_class_home %}active{% endblock %}

{% block contents %}

      <div class="row">
        <div class="span8 offset2">

          <form class="form-horizontal well well-large" action='{action!s}' method="POST">
            <fieldset>
              <legend class="">{{ _("Sign in to eduID") }}</legend>

	      <input type="hidden" name="key" value="{key!s}"/>
	      <input type="hidden" name="authn_reference" value="{authn_reference!s}"/>
	      <input type="hidden" name="redirect_uri" value="{redirect_uri!s}"/>

              <div id="alert_div" class="alert alert-error hide">
                <a class="close" data-dismiss="alert" href="#">&times;</a>
                <div id="alert_msg">{{ _("Something failed, or Javascript disabled") }}</div>
              </div>

              <div class="control-group">
              <!-- Username -->
                <label class="control-label" for="username">{{ _("Username :") }}</label>
                <div class="controls">
                  <div class="input-append">
                    <input type="text" id="username" name="username" value="{username!s}" placeholder="" class="input-large" autofocus="autofocus">
                    <span class="add-on"><i class="icon-user"></i></span>
                  </div>
                </div>
              </div>

              <div class="control-group">
              <!-- Password-->
                <label class="control-label" for="password">{{ _("Password :") }}</label>
                <div class="controls">
                  <div class="input-append">
                    <input type="password" id="password" name="password" placeholder="" class="input-large">
                    <span class="add-on"><i class="icon-lock"></i></span>
                  </div>
                </div>
              </div>

              <div class="control-group">
              <!-- Remember me -->
                <div class="controls">
                  <label class="checkbox">
                    <input type="checkbox">{{ _("Remember me") }}
                  </label>
                </div>
              </div>

              <div class="form-actions" style="margin-bottom: 0;">
              <!-- Button -->
                <button class="btn btn-primary btn-large">{{ _("Sign in") }}</button>
              </div>

            </fieldset>
          </form>
          <p class="muted">{{ _("You are logging in to {sp_entity_id} who requests {authn_reference}.") }}</p>
	  <p class="muted"></p>

          <p class="muted">{{ _("Don't have an account yet?") }} <a href="{{ settings.signup_url }}">{{ _("Go to the registration form") }} </a></p>
          <p class="muted">{{ _("Can't remember your password?") }} <a href="{{ settings.pwreset_url }}">{{  _("Go to the reset password form") }}</a></p>
        </div>
      </div>

      <div class="footer">
        <p>&copy; SUNET 2013</p>
      </div>
    </div>
    {%  raw %}
    <script type="text/javascript">
        $(function() {{
            var msg = '{alert_msg}';
            if (msg) {{
                $('#alert_msg').text(msg);
                $('#alert_div').removeClass('hide');
            }} else {{
                $('#alert_div').addClass('hide');
            }}
        }});
    </script>
    {% endraw %}

{% endblock %}

{% block extrajs %}
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src=\'{{"static/js/libs/jquery-1.9.1.min.js"}}\'><\/script>')</script>
    <script src="{{'/static/js/libs/bootstrap-2.3.1.min.js'}}"></script>
{% endblock %}
